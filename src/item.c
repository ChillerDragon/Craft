#include "item.h"
#include "util.h"

const int items[] = {
    // items the user can build
    GRASS,        SAND,          STONE,      BRICK,         WOOD,
    CEMENT,       DIRT,          PLANK,      GLASS,         COBBLE,
    LIGHT_STONE,  DARK_STONE,    CHEST,      LEAVES,        TALL_GRASS};

const int item_count = sizeof(items) / sizeof(int);

const int blocks[256][6] = {
    // w => (left, right, top, bottom, front, back) tiles
    {0, 0, 0, 0, 0, 0},             // 0 - empty
    {16, 16, 32, 0, 16, 16},        // 1 - grass
    {1, 1, 1, 1, 1, 1},             // 2 - sand
    {2, 2, 2, 2, 2, 2},             // 3 - stone
    {3, 3, 3, 3, 3, 3},             // 4 - brick
    {20, 20, 36, 4, 20, 20},        // 5 - wood
    {5, 5, 5, 5, 5, 5},             // 6 - cement
    {6, 6, 6, 6, 6, 6},             // 7 - dirt
    {7, 7, 7, 7, 7, 7},             // 8 - plank
    {24, 24, 40, 8, 24, 24},        // 9 - snow
    {9, 9, 9, 9, 9, 9},             // 10 - glass
    {10, 10, 10, 10, 10, 10},       // 11 - cobble
    {11, 11, 11, 11, 11, 11},       // 12 - light stone
    {12, 12, 12, 12, 12, 12},       // 13 - dark stone
    {13, 13, 13, 13, 13, 13},       // 14 - chest
    {14, 14, 14, 14, 14, 14},       // 15 - leaves
    {15, 15, 15, 15, 15, 15},       // 16 - cloud
    {31, 31, 31, 31, 31, 31},       // 17 * tall grass
    {31, 31, 31, 31, 31, 31},       // 18
    {31, 31, 31, 31, 31, 31},       // 19
    {31, 31, 31, 31, 31, 31},       // 20
    {31, 31, 31, 31, 31, 31},       // 21
    {31, 31, 31, 31, 31, 31},       // 22
    {31, 31, 31, 31, 31, 31},       // 23
    {31, 31, 31, 31, 31, 31},       // 24
    {31, 31, 31, 31, 31, 31},       // 25
    {31, 31, 31, 31, 31, 31},       // 26
    {31, 31, 31, 31, 31, 31},       // 27
    {31, 31, 31, 31, 31, 31},       // 28
    {31, 31, 31, 31, 31, 31},       // 29
    {31, 31, 31, 31, 31, 31},       // 30
    {31, 31, 31, 31, 31, 31},       // 31
    {31, 31, 31, 31, 31, 31},       // 32
    {31, 31, 31, 31, 31, 31},       // 33
    {31, 31, 31, 31, 31, 31},       // 34
    {31, 31, 31, 31, 31, 31},       // 35
    {31, 31, 31, 31, 31, 31},       // 36
    {31, 31, 31, 31, 31, 31},       // 37
    {31, 31, 31, 31, 31, 31},       // 38
    {31, 31, 31, 31, 31, 31},       // 39
    {31, 31, 31, 31, 31, 31},       // 40
    {31, 31, 31, 31, 31, 31},       // 41
    {31, 31, 31, 31, 31, 31},       // 42
    {31, 31, 31, 31, 31, 31},       // 43
    {31, 31, 31, 31, 31, 31},       // 44
    {31, 31, 31, 31, 31, 31},       // 45
    {31, 31, 31, 31, 31, 31},       // 46
    {31, 31, 31, 31, 31, 31},       // 47
    {31, 31, 31, 31, 31, 31},       // 48
    {31, 31, 31, 31, 31, 31},       // 49
    {31, 31, 31, 31, 31, 31},       // 50
    {31, 31, 31, 31, 31, 31},       // 51
    {31, 31, 31, 31, 31, 31},       // 52
    {31, 31, 31, 31, 31, 31},       // 53
    {31, 31, 31, 31, 31, 31},       // 54
    {31, 31, 31, 31, 31, 31},       // 55
    {31, 31, 31, 31, 31, 31},       // 56
    {31, 31, 31, 31, 31, 31},       // 57
    {31, 31, 31, 31, 31, 31},       // 58
    {31, 31, 31, 31, 31, 31},       // 59
    {31, 31, 31, 31, 31, 31},       // 60
    {31, 31, 31, 31, 31, 31},       // 61
    {31, 31, 31, 31, 31, 31},       // 62
    {31, 31, 31, 31, 31, 31},       // 63
};

const int plants[256] = {
    // w => tile
    0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 16
    48,                                                 // 17 - tall grass
};

int is_plant(int w) {
  switch (w) {
  case TALL_GRASS:
    return 1;
  default:
    return 0;
  }
}

int is_obstacle(int w) {
  w = ABS(w);
  if (is_plant(w)) {
    return 0;
  }
  switch (w) {
  case EMPTY:
  case CLOUD:
    return 0;
  default:
    return 1;
  }
}

int is_transparent(int w) {
  if (w == EMPTY) {
    return 1;
  }
  w = ABS(w);
  if (is_plant(w)) {
    return 1;
  }
  switch (w) {
  case EMPTY:
  case GLASS:
  case LEAVES:
    return 1;
  default:
    return 0;
  }
}

int is_destructable(int w) {
  switch (w) {
  case EMPTY:
  case CLOUD:
    return 0;
  default:
    return 1;
  }
}
